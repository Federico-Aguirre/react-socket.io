{"version":3,"sources":["App.js","index.js"],"names":["socket","App","useState","loggedIn","setLoggedIn","room","setRoom","userName","setUserName","message","setMessage","messageList","setMessageList","useEffect","io","on","data","sendMessage","a","messageContent","content","author","emit","className","map","val","key","id","type","placeholder","onChange","e","target","value","onClick","ReactDOM","render","document","getElementById"],"mappings":"wLAIIA,E,gGA8FWC,MA3Ff,WAAgB,IAAD,EACmBC,oBAAS,GAD5B,mBACNC,EADM,KACIC,EADJ,OAEWF,mBAAS,IAFpB,mBAENG,EAFM,KAEAC,EAFA,OAGmBJ,mBAAS,IAH5B,mBAGNK,EAHM,KAGIC,EAHJ,OAKiBN,mBAAS,IAL1B,mBAKNO,EALM,KAKGC,EALH,OAMyBR,mBAAS,IANlC,mBAMNS,EANM,KAMOC,EANP,KAQbC,qBAAU,WACRb,EAASc,IAXW,qBAYnB,CAZmB,oBActBD,qBAAU,WACRb,EAAOe,GAAG,mBAAmB,SAACC,GAC5BJ,EAAe,GAAD,mBAAKD,GAAL,CAAkBK,WAGpC,IAKMC,EAAW,uCAAG,4BAAAC,EAAA,6DACdC,EAAiB,CACnBd,KAAMA,EACNe,QAAS,CACPC,OAAQd,EACRE,QAASA,IALK,SASZT,EAAOsB,KAAK,eAAgBH,GAThB,OAUlBP,EAAe,GAAD,mBAAKD,GAAL,CAAkBQ,EAAeC,WAC/CV,EAAW,IAXO,2CAAH,qDAcjB,OACE,yBAAKa,UAAU,OACXpB,EAqBA,yBAAKoB,UAAU,iBACb,yBAAKA,UAAU,YACZZ,EAAYa,KAAI,SAACC,EAAKC,GACrB,OACE,yBACEH,UAAU,mBACVI,GAAIF,EAAIJ,QAAUd,EAAW,MAAQ,SAErC,yBAAKgB,UAAU,qBACZE,EAAIJ,OADP,KACiBI,EAAIhB,cAO7B,yBAAKc,UAAU,iBACb,2BACEK,KAAK,OACLC,YAAY,UACZC,SAAU,SAACC,GACTrB,EAAWqB,EAAEC,OAAOC,UAGxB,4BAAQC,QAASjB,GAAjB,YA5CJ,yBAAKM,UAAU,SACb,yBAAKA,UAAU,UACb,2BACEK,KAAK,OACLC,YAAY,SACZC,SAAU,SAACC,GACTvB,EAAYuB,EAAEC,OAAOC,UAGzB,2BACEL,KAAK,OACLC,YAAY,OACZC,SAAU,SAACC,GACTzB,EAAQyB,EAAEC,OAAOC,WAIvB,4BAAQC,QAvCM,WACpB9B,GAAY,GACZJ,EAAOsB,KAAK,YAAajB,KAqCnB,eC3DV8B,IAASC,OACP,kBAAC,EAAD,MAEAC,SAASC,eAAe,W","file":"static/js/main.8308b4fa.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\n\nlet socket;\nconst CONNECTION_PORT = \"localhost:3002/\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [room, setRoom] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n\n  const [message, setMessage] = useState(\"\");\n  const [messageList, setMessageList] = useState([]);\n\n  useEffect(() => {\n    socket = io(CONNECTION_PORT);\n  }, [CONNECTION_PORT]);\n\n  useEffect(() => {\n    socket.on(\"receive_message\", (data) => {\n      setMessageList([...messageList, data]);\n    });\n  });\n  const connectToRoom = () => {\n    setLoggedIn(true);\n    socket.emit(\"join_room\", room);\n  };\n\n  const sendMessage = async () => {\n    let messageContent = {\n      room: room,\n      content: {\n        author: userName,\n        message: message,\n      },\n    };\n\n    await socket.emit(\"send_message\", messageContent);\n    setMessageList([...messageList, messageContent.content]);\n    setMessage(\"\");\n  };\n\n  return (\n    <div className=\"App\">\n      {!loggedIn ? (\n        <div className=\"logIn\">\n          <div className=\"inputs\">\n            <input\n              type=\"text\"\n              placeholder=\"Nombre\"\n              onChange={(e) => {\n                setUserName(e.target.value);\n              }}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Sala\"\n              onChange={(e) => {\n                setRoom(e.target.value);\n              }}\n            />\n          </div>\n          <button onClick={connectToRoom}>Conectar</button>\n        </div>\n      ) : (\n        <div className=\"chatContainer\">\n          <div className=\"messages\">\n            {messageList.map((val, key) => {\n              return (\n                <div\n                  className=\"messageContainer\"\n                  id={val.author == userName ? \"You\" : \"Other\"}\n                >\n                  <div className=\"messageIndividual\">\n                    {val.author}: {val.message}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"messageInputs\">\n            <input\n              type=\"text\"\n              placeholder=\"Mensaje\"\n              onChange={(e) => {\n                setMessage(e.target.value);\n              }}\n            />\n            <button onClick={sendMessage}>Enviar</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <App />,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}